"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[59],{1059:function(e,i,t){t.r(i),t.d(i,{default:function(){return Q}});var n=t(9439),l=t(8594),r=t(695),o=t(3580),a=t(7342),c=t(9137),s=t(7718),d=t(6589),u=t(176),h=t(9229),m=t(7281),f=t(7086),_=t(2791),x=t(5755),p=t(5405),g=t(8724),j=t(925),w=t(1573),v=t(9358),S=t(7136),y=t(2241),q=t(4074),b=t(1413),k=t(5987),C=t(4087),N=t(4363),D=t(5946),z=t(7449),K=t(3853),R=t(9121),A=t(631),T=t(184),W=["title","subtitle","infoTip","iconColor","icon"];function Z(e){var i=e.title,t=void 0===i?R.Nj:i,n=e.subtitle,l=void 0===n?R.Nj:n,r=e.infoTip,o=void 0===r?A.W:r,a=e.iconColor,c=void 0===a?"piperider.500":a,s=e.icon,d=void 0===s?K.aCJ:s,m=(0,k.Z)(e,W);return(0,T.jsxs)(C.xu,(0,b.Z)((0,b.Z)({},m),{},{children:[(0,T.jsx)(h.x,{color:"gray.500",children:l}),(0,T.jsxs)(u.k,{alignItems:"center",my:2,gap:2,children:[(0,T.jsx)(N.J,{rounded:"md",color:c,as:d,boxSize:6}),(0,T.jsx)(D.X,{fontSize:24,children:t||R.Nj}),(0,T.jsx)(z.u,{shouldWrapChildren:!0,label:o||R.Nj,placement:"right",children:(0,T.jsx)(N.J,{as:K.H33,boxSize:5,mt:1,color:"gray.400"})})]})]}))}var E=t(8886),I=t(8749),P=t(6487),B=["reconcileName","ruleName","schemaType","onSelect","isActive"];function H(e){var i=e.reconcileName,t=e.ruleName,n=e.schemaType,l=e.onSelect,r=e.isActive,o=(0,k.Z)(e,B),a=(0,P.MM)({type:n}).icon;return(0,T.jsx)(u.k,(0,b.Z)((0,b.Z)({mx:3,fontSize:"sm",borderRadius:"lg",justifyContent:"space-between",alignItems:"center",cursor:"pointer",onClick:function(){return l({reconcileName:i,ruleName:t})},color:r?"white":"inherit",bg:r?"piperider.400":"inherit",_hover:{bgColor:r?"piperider.500":"blackAlpha.50"},"data-cy":"column-detail-list-item"},o),{},{children:(0,T.jsx)(I.$A,{iconColor:r?"white":"gray.500",icon:a,name:t})}))}function M(e){var i=e.reconcileEntryList,t=e.reconcileEntry,n=e.currentReconcile,l=e.currentRule,r=e.onSelect,o=e.onNavBack,a=e.onNavToTableDetail,c=""===l&&n;return console.log("".concat(n,", ").concat(l)),console.log(c),(0,T.jsx)(u.k,{direction:"column",position:"relative",bg:"gray.50",children:(0,T.jsxs)(C.xu,{position:"sticky",top:0,w:"100%",p:3,pb:0,zIndex:150,bg:"inherit",children:[(0,T.jsxs)(E.P,{mb:9,defaultValue:n,onChange:function(e){console.log(e.target.value),"table-list"===e.target.value&&o?o():a&&a(e.target.value)},children:[(0,T.jsx)("option",{value:"table-list",children:"\u2190 Show All Reconcile Reports"}),i.map((function(e,i){return(0,T.jsx)("option",{value:e.name,children:e.name},i)}))]}),(0,T.jsx)(u.k,{justifyContent:"space-between",mb:2,children:(0,T.jsx)(h.x,{color:"gray.500",size:"md",children:"Reconcile"})}),(0,T.jsx)(u.k,{top:0,p:3,mb:9,borderRadius:"lg",cursor:"pointer",justify:"space-between",bg:c?"piperider.400":"inherit",color:c?"white":"inherit",_hover:{bgColor:c?"piperider.500":"blackAlpha.50"},onClick:function(){r({reconcileName:n,ruleName:""})},children:(0,T.jsxs)(u.k,{alignItems:"center",gap:2,fontSize:"sm",children:[(0,T.jsx)(N.J,{as:K.aCJ,color:c?"white":"inherit"}),(0,T.jsx)(h.x,{noOfLines:1,children:n})]})}),(0,T.jsx)(u.k,{justifyContent:"space-between",alignItems:"center",children:(0,T.jsxs)(h.x,{fontSize:"md",color:"gray.500",children:[Object.keys(t.columns).length," Rules"]})}),(0,T.jsx)(C.xu,{minHeight:"65vh",mt:2,children:Object.keys(t.columns).map((function(e,i){return(0,T.jsx)(C.xu,{children:(0,T.jsx)(H,{isActive:e===l,ruleName:e,reconcileName:n,schemaType:t.columns[e].generic_type,onSelect:function(e){r(e)},p:3})},e)}))})]})})}var O=["name","firstSlot","secondSlot","firstSlotWidth","secondSlotWidth","metaKey"],J=["width"],L={equal:"Base value equal to target value eaxctly",not_comparable:"Not comparable case e.g. null vesus value",total:"Total records",equal_within_5_difference:"Numeric value comparison when absolute difference is within 5 perc of base value",equal_with_10_difference:"Numeric value comparison when absolute difference is within 10 perc of base value",equal_within_1_day_difference:"Date or datetime data when equal within 1 day",equal_within_1_week_difference:"Date or datetime data when equal within 1 week",equal_within_1_month_difference:"Date or datetime data when equal within 1 month",equal_case_insensitive:"Equal when case insensitive",equal_trim_whitespace:"Equal when white space is trimmed"},Y={equal:"Exactly Equal",not_comparable:"Not Comparable",total:"Total",equal_within_5_difference:"Within 5% Difference",equal_within_10_difference:"Within 10% Difference",equal_within_1_day_difference:"Within 1 Day Difference",equal_within_1_week_difference:"Within 1 Week Difference",equal_within_1_month_difference:"Within 1 Month Difference",equal_case_insensitive:"Equal Case Insensitive",equal_trim_whitespace:"Equal Trim Whitespace"};function G(e){e.name;var i=e.firstSlot,t=e.secondSlot,n=e.firstSlotWidth,l=void 0===n?"100%":n,r=e.secondSlotWidth,o=void 0===r?"100%":r,a=e.metaKey,c=(0,k.Z)(e,O),s=L[a||""],d=c.width,m=(0,k.Z)(c,J),f=null===t,_=Y[a||""];return(0,T.jsxs)(u.k,(0,b.Z)((0,b.Z)({},m),{},{alignItems:"center",children:[(0,T.jsx)(z.u,{label:s,isDisabled:!Boolean(s),placement:"top",children:(0,T.jsx)(h.x,{width:d||"12em",fontWeight:700,fontSize:"sm",children:_})}),(0,T.jsx)(u.k,{gap:{lg:5,md:1},flexDirection:"row"}),(0,T.jsx)(h.x,{textAlign:"right",fontSize:"sm",width:l,children:i||R.Nj}),(t||f)&&(0,T.jsx)(h.x,{textAlign:"right",fontSize:"sm",width:o,children:t||R.Nj})]}))}function F(e){var i=e.columnStats;e.hasAnimation;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(h.x,{fontSize:"xl",children:"Reconcile Statistics"}),(0,T.jsx)(m.i,{my:3}),null===i||void 0===i?void 0:i.map((function(e,i){var t=e.firstSlot,n=e.secondSlot,l=e.metaKey,r=e.name;return(0,T.jsx)(G,{name:r,firstSlot:t,secondSlot:n,metaKey:l},i)}))]})}function Q(e){var i=e.data,t=e.ruleName,b=e.reconcileName;(0,p.jr)("Reconcile Report: Table Details");var k=i.profiling.base,C=i.reconcile,N=(0,f.TH)(),D=(0,n.Z)(N,2)[1],z=(0,_.useState)(0),K=(0,n.Z)(z,2),R=(K[0],K[1]),A=0===t.length,W=(0,g.n)((function(e){return e.setReportRawData})),E=(0,x.Z)(q.gA,""),I=(0,n.Z)(E,1)[0],P=(0,_.useState)(Boolean(I)),B=(0,n.Z)(P,2),H=B[0],O=B[1];W({profiling:i.profiling,reconcile:i.reconcile,project:i.project,created_at:i.created_at,description:i.description});var J=g.n.getState().reconcileResults.reconcile,L=null===J||void 0===J?void 0:J.find((function(e){return e.metadata.name===b})),Y=null===L||void 0===L?void 0:L.metadata.description,G=(null===L||void 0===L?void 0:L.metadata.base_table)||"",Q=(null===L||void 0===L?void 0:L.metadata.target_table)||"",X=k[G],$=k[Q],U=(null===X||void 0===X?void 0:X.columns)||{},ee=(null===$||void 0===$?void 0:$.columns)||{},ie=null===L||void 0===L?void 0:L.columns[t];console.log(t),console.log(ie);var te=null===ie||void 0===ie?void 0:ie.base_compare_key,ne=null===ie||void 0===ie?void 0:ie.target_compare_key,le=U[te],re=ee[ne],oe=re||le,ae=(le||{}).type,ce=(re||{}).type,se=(0,y.MM)(oe),de=se.backgroundColor,ue=se.icon,he=null===L||void 0===L?void 0:L.tables,me=L.columns[t];return(0,T.jsx)(j.o,{isSingleReport:!1,maxHeight:w.t4,children:(0,T.jsxs)(l.r,{width:"inherit",templateColumns:H?w.L0:w.Lj,children:[(0,T.jsx)(r.P,{overflowY:"scroll",maxHeight:w.t4,children:(0,T.jsx)(M,{reconcileEntryList:C,reconcileEntry:L,currentReconcile:b,currentRule:t,onSelect:function(e){var i=e.reconcileName,t=e.ruleName;R(0),D("/reconciles/".concat(i,"/rules/").concat(t))},onNavBack:function(){D("/")},onNavToTableDetail:function(e){D("/reconciles/".concat(e,"/rules/"))},onToggleShowExtra:function(){return O((function(e){return!e}))}})}),A?(0,T.jsxs)(r.P,{maxHeight:w.t4,overflowY:"auto",p:10,children:[(0,T.jsx)(Z,{title:b,subtitle:"Reconcile",mb:5,infoTip:Y}),(0,T.jsxs)(o.m,{defaultIndex:0,children:[(0,T.jsxs)(a.t,{children:[(0,T.jsx)(c.O,{children:"Overview"}),(0,T.jsx)(c.O,{children:"Assertions"}),(0,T.jsx)(c.O,{children:"Schema"})]}),(0,T.jsxs)(s.n,{children:[(0,T.jsxs)(d.x,{children:[(0,T.jsx)(V,{}),(0,T.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,T.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,T.jsx)(h.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,T.jsxs)(h.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["base_source.",G]})]}),(0,T.jsx)(m.i,{orientation:"vertical"}),(0,T.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,T.jsx)(h.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,T.jsxs)(h.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["target_source.",G]})]})]}),(0,T.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,T.jsx)(y.my,{tableDatum:X,showDups:!1}),(0,T.jsx)(m.i,{orientation:"vertical"}),(0,T.jsx)(y.my,{tableDatum:$,showDups:!1})]}),(0,T.jsx)(l.r,{templateColumns:"1fr",children:(0,T.jsx)(y.zZ,{vennChartData:he})})]}),(0,T.jsx)(d.x,{children:(0,T.jsx)(h.x,{children:" No Assertsion "})}),(0,T.jsx)(d.x,{children:(0,T.jsx)(h.x,{children:" No information "})})]})]})]}):(0,T.jsxs)(l.r,{templateColumns:"1fr 1fr",width:"100%",maxHeight:w.t4,overflowY:"auto",children:[(0,T.jsxs)(r.P,{colSpan:2,rowSpan:2,p:9,children:[(0,T.jsx)(y.QN,{title:t,subtitle:t,infoTip:null===ie||void 0===ie?void 0:ie.generic_type,mb:5,borderBottom:w.dx,icon:ue,iconColor:de}),(0,T.jsx)(V,{}),(0,T.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,T.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,T.jsx)(h.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,T.jsx)(h.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===ie||void 0===ie?void 0:ie.base_compare_key}),(0,T.jsx)(h.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===ie||void 0===ie?void 0:ie.generic_type})]}),(0,T.jsx)(m.i,{orientation:"vertical"}),(0,T.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,T.jsx)(h.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,T.jsx)(h.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===ie||void 0===ie?void 0:ie.target_compare_key}),(0,T.jsx)(h.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===ie||void 0===ie?void 0:ie.generic_type})]})]})]}),(0,T.jsx)(r.P,{colSpan:2,px:9,py:2,bg:"gray.50",children:(0,T.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,minWidth:0,children:[(0,T.jsx)(y.tK,{columnDatum:le}),(0,T.jsx)(y.tK,{columnDatum:re})]})}),((0,y.jl)(ae)||(0,y.jl)(ce))&&(0,T.jsx)(r.P,{colSpan:2,gridRow:"span 1",px:9,py:2,bg:"gray.50",children:(0,T.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,T.jsx)(v.E,{columnDatum:le}),(0,T.jsx)(v.E,{columnDatum:re})]})}),((0,y.hG)(ae)||(0,y.hG)(ce))&&(0,T.jsx)(r.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,T.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,T.jsx)(S.M,{columnDatum:le}),(0,T.jsx)(S.M,{columnDatum:re})]})}),(0,T.jsx)(r.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,T.jsx)(l.r,{templateColumns:"1fr 1fr",gap:8,children:(0,T.jsx)(F,{columnStats:function(e){return"string"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_case_insensitive",firstSlot:e.equal_case_insensitive,secondSlot:e.equal_case_insensitive_percentage,metaKey:"equal_case_insensitive"},{name:"equal_trim_whitespace",firstSlot:e.equal_trim_whitespace,secondSlot:e.equal_trim_whitespace_percentage,metaKey:"equal_trim_whitespace"}]:"numeric"===e.generic_type||"integer"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_5_difference",firstSlot:e.equal_within_5_difference,secondSlot:e.equal_within_5_difference_percentage,metaKey:"equal_within_5_difference"},{name:"equal_within_10_difference",firstSlot:e.equal_within_10_difference,secondSlot:e.equal_within_10_difference_percentage,metaKey:"equal_within_10_difference"}]:"datetime"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_1_day_difference",firstSlot:e.equal_within_1_day_difference,secondSlot:e.equal_within_1_day_difference_percentage,metaKey:"equal_within_1_day_difference"},{name:"equal_within_1_week_difference",firstSlot:e.equal_within_1_week_difference,secondSlot:e.equal_within_1_week_difference_percentage,metaKey:"equal_within_1_week_difference"},{name:"equal_within_1_month_difference",firstSlot:e.equal_within_1_month_difference,secondSlot:e.equal_within_1_month_difference_percentage,metaKey:"equal_within_1_month_difference"}]:"boolean"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"}]:void 0}(me),hasAnimation:!1})})})]})]})})}function V(){return(0,T.jsx)(l.r,{templateColumns:"1fr 1fr",mb:2,gap:10,children:["Base","Target"].map((function(e,i){return(0,T.jsx)(u.k,{alignItems:"center",w:"100%",children:(0,T.jsx)(h.x,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:e})},i)}))})}}}]);
//# sourceMappingURL=59.0a1d1c11.chunk.js.map