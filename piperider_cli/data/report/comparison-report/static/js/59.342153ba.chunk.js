"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[59],{1059:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var i=n(9439),o=n(8594),l=n(695),a=n(3580),r=n(7342),c=n(9137),s=n(7718),m=n(6589),d=n(176),u=n(9229),h=n(7281),f=n(7086),_=n(2791),p=n(5755),x=n(5405),g=n(8724),j=n(925),w=n(1573),S=n(9358),v=n(7136),b=n(3134),y=n(2241),q=n(4074),k=n(1413),C=n(5987),D=n(4087),N=n(4363),K=n(5946),z=n(7449),A=n(3853),R=n(9121),T=n(631),W=n(184),Z=["title","subtitle","infoTip","iconColor","icon"];function I(e){var t=e.title,n=void 0===t?R.Nj:t,i=e.subtitle,o=void 0===i?R.Nj:i,l=e.infoTip,a=void 0===l?T.W:l,r=e.iconColor,c=void 0===r?"piperider.500":r,s=e.icon,m=void 0===s?A.aCJ:s,h=(0,C.Z)(e,Z);return(0,W.jsxs)(D.xu,(0,k.Z)((0,k.Z)({},h),{},{children:[(0,W.jsx)(u.x,{color:"gray.500",children:o}),(0,W.jsxs)(d.k,{alignItems:"center",my:2,gap:2,children:[(0,W.jsx)(N.J,{rounded:"md",color:c,as:m,boxSize:6}),(0,W.jsx)(K.X,{fontSize:24,children:n||R.Nj}),(0,W.jsx)(z.u,{shouldWrapChildren:!0,label:a||R.Nj,placement:"right",children:(0,W.jsx)(N.J,{as:A.H33,boxSize:5,mt:1,color:"gray.400"})})]})]}))}var E=n(8886),P=n(8749),B=n(6487),H=["reconcileName","ruleName","schemaType","onSelect","isActive"];function M(e){var t=e.reconcileName,n=e.ruleName,i=e.schemaType,o=e.onSelect,l=e.isActive,a=(0,C.Z)(e,H),r=(0,B.MM)({type:i}).icon;return(0,W.jsx)(d.k,(0,k.Z)((0,k.Z)({mx:3,fontSize:"sm",borderRadius:"lg",justifyContent:"space-between",alignItems:"center",cursor:"pointer",onClick:function(){return o({reconcileName:t,ruleName:n})},color:l?"white":"inherit",bg:l?"piperider.400":"inherit",_hover:{bgColor:l?"piperider.500":"blackAlpha.50"},"data-cy":"column-detail-list-item"},a),{},{children:(0,W.jsx)(P.$A,{iconColor:l?"white":"gray.500",icon:r,name:n})}))}function O(e){var t=e.reconcileEntryList,n=e.reconcileEntry,i=e.currentReconcile,o=e.currentRule,l=e.onSelect,a=e.onNavBack,r=e.onNavToTableDetail,c=""===o&&i;return(0,W.jsx)(d.k,{direction:"column",position:"relative",bg:"gray.50",children:(0,W.jsxs)(D.xu,{position:"sticky",top:0,w:"100%",p:3,pb:0,zIndex:150,bg:"inherit",children:[(0,W.jsxs)(E.P,{mb:9,defaultValue:i,onChange:function(e){console.log(e.target.value),"table-list"===e.target.value&&a?a():r&&r(e.target.value)},children:[(0,W.jsx)("option",{value:"table-list",children:"\u2190 Show All Reconcile Reports"}),t.map((function(e,t){return(0,W.jsx)("option",{value:e.name,children:e.name},t)}))]}),(0,W.jsx)(d.k,{justifyContent:"space-between",mb:2,children:(0,W.jsx)(u.x,{color:"gray.500",size:"md",children:"Reconcile"})}),(0,W.jsx)(d.k,{top:0,p:3,mb:9,borderRadius:"lg",cursor:"pointer",justify:"space-between",bg:c?"piperider.400":"inherit",color:c?"white":"inherit",_hover:{bgColor:c?"piperider.500":"blackAlpha.50"},onClick:function(){l({reconcileName:i,ruleName:""})},children:(0,W.jsxs)(d.k,{alignItems:"center",gap:2,fontSize:"sm",children:[(0,W.jsx)(N.J,{as:A.aCJ,color:c?"white":"inherit"}),(0,W.jsx)(u.x,{noOfLines:1,children:i})]})}),(0,W.jsx)(d.k,{justifyContent:"space-between",alignItems:"center",children:(0,W.jsxs)(u.x,{fontSize:"md",color:"gray.500",children:[Object.keys(n.columns).length," Rules"]})}),(0,W.jsx)(D.xu,{minHeight:"65vh",mt:2,children:Object.keys(n.columns).map((function(e,t){return(0,W.jsx)(D.xu,{children:(0,W.jsx)(M,{isActive:e===o,ruleName:e,reconcileName:i,schemaType:n.columns[e].generic_type,onSelect:function(e){l(e)},p:3})},e)}))})]})})}var J=["name","firstSlot","secondSlot","firstSlotWidth","secondSlotWidth","metaKey"],L=["width"],Y={equal:"Base value equal to target value eaxctly",common:"Both base and target provides a value",not_comparable:"Either of base or target does not provide a value",total:"Total records",equal_within_5_difference:"Numeric value comparison when absolute difference is within 5 perc of base value",equal_with_10_difference:"Numeric value comparison when absolute difference is within 10 perc of base value",equal_within_1_day_difference:"Date or datetime data when equal within 1 day",equal_within_1_week_difference:"Date or datetime data when equal within 1 week",equal_within_1_month_difference:"Date or datetime data when equal within 1 month",equal_case_insensitive:"Equal when case insensitive",equal_trim_whitespace:"Equal when white space is trimmed"},G={equal:"Exactly Equal",common:"Comparable",not_comparable:"Not Comparable",total:"Total",equal_within_5_difference:"Within 5% Difference",equal_within_10_difference:"Within 10% Difference",equal_within_1_day_difference:"Within 1 Day Difference",equal_within_1_week_difference:"Within 1 Week Difference",equal_within_1_month_difference:"Within 1 Month Difference",equal_case_insensitive:"Equal Case Insensitive",equal_trim_whitespace:"Equal Trim Whitespace"};function F(e){e.name;var t=e.firstSlot,n=e.secondSlot,i=e.firstSlotWidth,o=void 0===i?"100%":i,l=e.secondSlotWidth,a=void 0===l?"100%":l,r=e.metaKey,c=(0,C.Z)(e,J),s=Y[r||""],m=c.width,h=(0,C.Z)(c,L),f=null===n,_=G[r||""];return(0,W.jsxs)(d.k,(0,k.Z)((0,k.Z)({},h),{},{alignItems:"center",children:[(0,W.jsx)(z.u,{label:s,isDisabled:!Boolean(s),placement:"top",children:(0,W.jsx)(u.x,{width:m||"12em",fontWeight:700,fontSize:"sm",children:_})}),(0,W.jsx)(d.k,{gap:{lg:5,md:1},flexDirection:"row"}),(0,W.jsx)(u.x,{textAlign:"right",fontSize:"sm",width:o,children:t||R.Nj}),(n||f)&&(0,W.jsx)(u.x,{textAlign:"right",fontSize:"sm",width:a,children:n||R.Nj})]}))}function Q(e){var t=e.columnStats;e.hasAnimation;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(u.x,{fontSize:"xl",children:"Reconcile Statistics"}),(0,W.jsx)(h.i,{my:3}),null===t||void 0===t?void 0:t.map((function(e,t){var n=e.firstSlot,i=e.secondSlot,o=e.metaKey,l=e.name;return(0,W.jsx)(F,{name:l,firstSlot:n,secondSlot:i,metaKey:o},t)}))]})}function V(e){var t=e.data,n=e.ruleName,k=e.reconcileName;(0,x.jr)("Reconcile Report: Table Details");var C=t.profiling,D=C.base,N=C.target,K=t.reconcile,z=(0,f.TH)(),A=(0,i.Z)(z,2)[1],R=(0,_.useState)(0),T=(0,i.Z)(R,2),Z=T[0],E=T[1],P=0===n.length,B=(0,g.n)((function(e){return e.setReportRawData})),H=(0,p.Z)(q.gA,""),M=(0,i.Z)(H,1)[0],J=(0,_.useState)(Boolean(M)),L=(0,i.Z)(J,2),Y=L[0],G=L[1];B({profiling:t.profiling,reconcile:t.reconcile,project:t.project,created_at:t.created_at,description:t.description});var F=g.n.getState().reconcileResults.reconcile,V=null===F||void 0===F?void 0:F.find((function(e){return e.metadata.name===k})),$=null===V||void 0===V?void 0:V.metadata.description,U=(null===V||void 0===V?void 0:V.metadata.base_table)||"",ee=(null===V||void 0===V?void 0:V.metadata.target_table)||"",te=D[U],ne=N[ee],ie=(null===te||void 0===te?void 0:te.columns)||{},oe=(null===ne||void 0===ne?void 0:ne.columns)||{},le=null===V||void 0===V?void 0:V.columns[n];console.log(n),console.log(le);var ae=null===le||void 0===le?void 0:le.base_compare_key,re=null===le||void 0===le?void 0:le.target_compare_key,ce=ie[ae],se=oe[re],me=se||ce,de=(ce||{}).type,ue=(se||{}).type,he=(0,y.MM)(me),fe=he.backgroundColor,_e=he.icon,pe=null===V||void 0===V?void 0:V.tables,xe=V.columns[n];return(0,W.jsx)(j.o,{isSingleReport:!1,maxHeight:w.t4,children:(0,W.jsxs)(o.r,{width:"inherit",templateColumns:Y?w.L0:w.Lj,children:[(0,W.jsx)(l.P,{overflowY:"scroll",maxHeight:w.t4,children:(0,W.jsx)(O,{reconcileEntryList:K,reconcileEntry:V,currentReconcile:k,currentRule:n,onSelect:function(e){var t=e.reconcileName,n=e.ruleName;E(0),A("/reconciles/".concat(t,"/rules/").concat(n))},onNavBack:function(){A("/")},onNavToTableDetail:function(e){A("/reconciles/".concat(e,"/rules/"))},onToggleShowExtra:function(){return G((function(e){return!e}))}})}),P?(0,W.jsxs)(l.P,{maxHeight:w.t4,overflowY:"auto",p:10,children:[(0,W.jsx)(I,{title:k,subtitle:"Reconcile",mb:5,infoTip:$}),(0,W.jsxs)(a.m,{defaultIndex:0,children:[(0,W.jsxs)(r.t,{children:[(0,W.jsx)(c.O,{children:"Overview"}),(0,W.jsx)(c.O,{children:"Assertions"}),(0,W.jsx)(c.O,{children:"Schema"})]}),(0,W.jsxs)(s.n,{children:[(0,W.jsxs)(m.x,{children:[(0,W.jsx)(X,{}),(0,W.jsxs)(o.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,W.jsxs)(d.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(u.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,W.jsxs)(u.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["base_source.",U]})]}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsxs)(d.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(u.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,W.jsxs)(u.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["target_source.",U]})]})]}),(0,W.jsxs)(o.r,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,W.jsx)(y.my,{tableDatum:te,showDups:!1}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsx)(y.my,{tableDatum:ne,showDups:!1})]}),(0,W.jsx)(o.r,{templateColumns:"1fr",children:(0,W.jsx)(y.zZ,{vennChartData:pe})})]}),(0,W.jsx)(m.x,{children:(0,W.jsx)(u.x,{children:" No Assertsion "})}),(0,W.jsx)(m.x,{children:(0,W.jsx)(u.x,{children:" No information "})})]})]})]}):(0,W.jsxs)(o.r,{templateColumns:"1fr 1fr",width:"100%",maxHeight:w.t4,overflowY:"auto",children:[(0,W.jsxs)(l.P,{colSpan:2,rowSpan:2,p:9,children:[(0,W.jsx)(y.QN,{title:n,subtitle:n,infoTip:null===le||void 0===le?void 0:le.generic_type,mb:5,borderBottom:w.dx,icon:_e,iconColor:fe}),(0,W.jsx)(X,{}),(0,W.jsxs)(o.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,W.jsxs)(d.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(u.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,W.jsx)(u.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===le||void 0===le?void 0:le.base_compare_key}),(0,W.jsx)(u.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===le||void 0===le?void 0:le.generic_type})]}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsxs)(d.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(u.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,W.jsx)(u.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===le||void 0===le?void 0:le.target_compare_key}),(0,W.jsx)(u.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===le||void 0===le?void 0:le.generic_type})]})]})]}),(0,W.jsx)(l.P,{colSpan:2,px:9,py:2,bg:"gray.50",children:(0,W.jsxs)(o.r,{templateColumns:"1fr 1fr",gap:8,minWidth:0,children:[(0,W.jsx)(y.tK,{columnDatum:ce}),(0,W.jsx)(y.tK,{columnDatum:se})]})}),((0,y.jl)(de)||(0,y.jl)(ue))&&(0,W.jsx)(l.P,{colSpan:2,gridRow:"span 1",px:9,py:2,bg:"gray.50",children:(0,W.jsxs)(o.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(S.E,{columnDatum:ce}),(0,W.jsx)(S.E,{columnDatum:se})]})}),((0,y.hG)(de)||(0,y.hG)(ue))&&(0,W.jsx)(l.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,W.jsxs)(o.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(v.M,{columnDatum:ce}),(0,W.jsx)(v.M,{columnDatum:se})]})}),(0,W.jsx)(l.P,{colSpan:2,gridRow:"span 1",minWidth:0,px:10,py:4,bg:"gray.50",children:(0,W.jsxs)(o.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(b.r,{baseColumnDatum:ce,hasAnimation:!0,tabIndex:Z,onSelectTab:function(e){return E(e)}}),(0,W.jsx)(b.r,{baseColumnDatum:se,hasAnimation:!0,tabIndex:Z,onSelectTab:function(e){return E(e)}})]})}),(0,W.jsx)(l.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,W.jsx)(o.r,{templateColumns:"1fr 1fr",gap:8,children:(0,W.jsx)(Q,{columnStats:function(e){return"string"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"-",metaKey:"total"},{name:"not comparable",firstSlot:e.not_comparable,secondSlot:"-",metaKey:"not_comparable"},{name:"common",firstSlot:e.common,secondSlot:"-",metaKey:"common"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_case_insensitive",firstSlot:e.equal_case_insensitive,secondSlot:e.equal_case_insensitive_percentage,metaKey:"equal_case_insensitive"},{name:"equal_trim_whitespace",firstSlot:e.equal_trim_whitespace,secondSlot:e.equal_trim_whitespace_percentage,metaKey:"equal_trim_whitespace"}]:"numeric"===e.generic_type||"integer"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"-",metaKey:"total"},{name:"not comparable",firstSlot:e.not_comparable,secondSlot:"-",metaKey:"not_comparable"},{name:"common",firstSlot:e.common,secondSlot:"-",metaKey:"common"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_5_difference",firstSlot:e.equal_within_5_difference,secondSlot:e.equal_within_5_difference_percentage,metaKey:"equal_within_5_difference"},{name:"equal_within_10_difference",firstSlot:e.equal_within_10_difference,secondSlot:e.equal_within_10_difference_percentage,metaKey:"equal_within_10_difference"}]:"datetime"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"-",metaKey:"total"},{name:"not comparable",firstSlot:e.not_comparable,secondSlot:"-",metaKey:"not_comparable"},{name:"common",firstSlot:e.common,secondSlot:"-",metaKey:"common"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_1_day_difference",firstSlot:e.equal_within_1_day_difference,secondSlot:e.equal_within_1_day_difference_percentage,metaKey:"equal_within_1_day_difference"},{name:"equal_within_1_week_difference",firstSlot:e.equal_within_1_week_difference,secondSlot:e.equal_within_1_week_difference_percentage,metaKey:"equal_within_1_week_difference"},{name:"equal_within_1_month_difference",firstSlot:e.equal_within_1_month_difference,secondSlot:e.equal_within_1_month_difference_percentage,metaKey:"equal_within_1_month_difference"}]:"boolean"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"-",metaKey:"total"},{name:"not comparable",firstSlot:e.not_comparable,secondSlot:"-",metaKey:"not_comparable"},{name:"common",firstSlot:e.common,secondSlot:"-",metaKey:"common"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"}]:void 0}(xe),hasAnimation:!1})})})]})]})})}function X(){return(0,W.jsx)(o.r,{templateColumns:"1fr 1fr",mb:2,gap:10,children:["Base","Target"].map((function(e,t){return(0,W.jsx)(d.k,{alignItems:"center",w:"100%",children:(0,W.jsx)(u.x,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:e})},t)}))})}}}]);
//# sourceMappingURL=59.342153ba.chunk.js.map