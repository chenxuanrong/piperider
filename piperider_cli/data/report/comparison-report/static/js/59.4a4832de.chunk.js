"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[59],{1059:function(e,t,i){i.r(t),i.d(t,{default:function(){return V}});var n=i(9439),l=i(8594),r=i(695),a=i(3580),o=i(7342),c=i(9137),s=i(7718),d=i(6589),u=i(176),m=i(9229),h=i(7281),f=i(7086),_=i(2791),x=i(5755),p=i(5405),g=i(8724),j=i(925),w=i(1573),v=i(9358),S=i(7136),y=i(3134),b=i(2241),q=i(4074),k=i(1413),C=i(5987),D=i(4087),N=i(4363),z=i(5946),A=i(7449),R=i(3853),T=i(9121),K=i(631),W=i(184),Z=["title","subtitle","infoTip","iconColor","icon"];function I(e){var t=e.title,i=void 0===t?T.Nj:t,n=e.subtitle,l=void 0===n?T.Nj:n,r=e.infoTip,a=void 0===r?K.W:r,o=e.iconColor,c=void 0===o?"piperider.500":o,s=e.icon,d=void 0===s?R.aCJ:s,h=(0,C.Z)(e,Z);return(0,W.jsxs)(D.xu,(0,k.Z)((0,k.Z)({},h),{},{children:[(0,W.jsx)(m.x,{color:"gray.500",children:l}),(0,W.jsxs)(u.k,{alignItems:"center",my:2,gap:2,children:[(0,W.jsx)(N.J,{rounded:"md",color:c,as:d,boxSize:6}),(0,W.jsx)(z.X,{fontSize:24,children:i||T.Nj}),(0,W.jsx)(A.u,{shouldWrapChildren:!0,label:a||T.Nj,placement:"right",children:(0,W.jsx)(N.J,{as:R.H33,boxSize:5,mt:1,color:"gray.400"})})]})]}))}var E=i(8886),P=i(8749),B=i(6487),H=["reconcileName","ruleName","schemaType","onSelect","isActive"];function M(e){var t=e.reconcileName,i=e.ruleName,n=e.schemaType,l=e.onSelect,r=e.isActive,a=(0,C.Z)(e,H),o=(0,B.MM)({type:n}).icon;return(0,W.jsx)(u.k,(0,k.Z)((0,k.Z)({mx:3,fontSize:"sm",borderRadius:"lg",justifyContent:"space-between",alignItems:"center",cursor:"pointer",onClick:function(){return l({reconcileName:t,ruleName:i})},color:r?"white":"inherit",bg:r?"piperider.400":"inherit",_hover:{bgColor:r?"piperider.500":"blackAlpha.50"},"data-cy":"column-detail-list-item"},a),{},{children:(0,W.jsx)(P.$A,{iconColor:r?"white":"gray.500",icon:o,name:i})}))}function O(e){var t=e.reconcileEntryList,i=e.reconcileEntry,n=e.currentReconcile,l=e.currentRule,r=e.onSelect,a=e.onNavBack,o=e.onNavToTableDetail,c=""===l&&n;return console.log("".concat(n,", ").concat(l)),console.log(c),(0,W.jsx)(u.k,{direction:"column",position:"relative",bg:"gray.50",children:(0,W.jsxs)(D.xu,{position:"sticky",top:0,w:"100%",p:3,pb:0,zIndex:150,bg:"inherit",children:[(0,W.jsxs)(E.P,{mb:9,defaultValue:n,onChange:function(e){console.log(e.target.value),"table-list"===e.target.value&&a?a():o&&o(e.target.value)},children:[(0,W.jsx)("option",{value:"table-list",children:"\u2190 Show All Reconcile Reports"}),t.map((function(e,t){return(0,W.jsx)("option",{value:e.name,children:e.name},t)}))]}),(0,W.jsx)(u.k,{justifyContent:"space-between",mb:2,children:(0,W.jsx)(m.x,{color:"gray.500",size:"md",children:"Reconcile"})}),(0,W.jsx)(u.k,{top:0,p:3,mb:9,borderRadius:"lg",cursor:"pointer",justify:"space-between",bg:c?"piperider.400":"inherit",color:c?"white":"inherit",_hover:{bgColor:c?"piperider.500":"blackAlpha.50"},onClick:function(){r({reconcileName:n,ruleName:""})},children:(0,W.jsxs)(u.k,{alignItems:"center",gap:2,fontSize:"sm",children:[(0,W.jsx)(N.J,{as:R.aCJ,color:c?"white":"inherit"}),(0,W.jsx)(m.x,{noOfLines:1,children:n})]})}),(0,W.jsx)(u.k,{justifyContent:"space-between",alignItems:"center",children:(0,W.jsxs)(m.x,{fontSize:"md",color:"gray.500",children:[Object.keys(i.columns).length," Rules"]})}),(0,W.jsx)(D.xu,{minHeight:"65vh",mt:2,children:Object.keys(i.columns).map((function(e,t){return(0,W.jsx)(D.xu,{children:(0,W.jsx)(M,{isActive:e===l,ruleName:e,reconcileName:n,schemaType:i.columns[e].generic_type,onSelect:function(e){r(e)},p:3})},e)}))})]})})}var J=["name","firstSlot","secondSlot","firstSlotWidth","secondSlotWidth","metaKey"],L=["width"],Y={equal:"Base value equal to target value eaxctly",not_comparable:"Not comparable case e.g. null vesus value",total:"Total records",equal_within_5_difference:"Numeric value comparison when absolute difference is within 5 perc of base value",equal_with_10_difference:"Numeric value comparison when absolute difference is within 10 perc of base value",equal_within_1_day_difference:"Date or datetime data when equal within 1 day",equal_within_1_week_difference:"Date or datetime data when equal within 1 week",equal_within_1_month_difference:"Date or datetime data when equal within 1 month",equal_case_insensitive:"Equal when case insensitive",equal_trim_whitespace:"Equal when white space is trimmed"},G={equal:"Exactly Equal",not_comparable:"Not Comparable",total:"Total",equal_within_5_difference:"Within 5% Difference",equal_within_10_difference:"Within 10% Difference",equal_within_1_day_difference:"Within 1 Day Difference",equal_within_1_week_difference:"Within 1 Week Difference",equal_within_1_month_difference:"Within 1 Month Difference",equal_case_insensitive:"Equal Case Insensitive",equal_trim_whitespace:"Equal Trim Whitespace"};function F(e){e.name;var t=e.firstSlot,i=e.secondSlot,n=e.firstSlotWidth,l=void 0===n?"100%":n,r=e.secondSlotWidth,a=void 0===r?"100%":r,o=e.metaKey,c=(0,C.Z)(e,J),s=Y[o||""],d=c.width,h=(0,C.Z)(c,L),f=null===i,_=G[o||""];return(0,W.jsxs)(u.k,(0,k.Z)((0,k.Z)({},h),{},{alignItems:"center",children:[(0,W.jsx)(A.u,{label:s,isDisabled:!Boolean(s),placement:"top",children:(0,W.jsx)(m.x,{width:d||"12em",fontWeight:700,fontSize:"sm",children:_})}),(0,W.jsx)(u.k,{gap:{lg:5,md:1},flexDirection:"row"}),(0,W.jsx)(m.x,{textAlign:"right",fontSize:"sm",width:l,children:t||T.Nj}),(i||f)&&(0,W.jsx)(m.x,{textAlign:"right",fontSize:"sm",width:a,children:i||T.Nj})]}))}function Q(e){var t=e.columnStats;e.hasAnimation;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(m.x,{fontSize:"xl",children:"Reconcile Statistics"}),(0,W.jsx)(h.i,{my:3}),null===t||void 0===t?void 0:t.map((function(e,t){var i=e.firstSlot,n=e.secondSlot,l=e.metaKey,r=e.name;return(0,W.jsx)(F,{name:r,firstSlot:i,secondSlot:n,metaKey:l},t)}))]})}function V(e){var t=e.data,i=e.ruleName,k=e.reconcileName;(0,p.jr)("Reconcile Report: Table Details");var C=t.profiling,D=C.base,N=C.target,z=t.reconcile,A=(0,f.TH)(),R=(0,n.Z)(A,2)[1],T=(0,_.useState)(0),K=(0,n.Z)(T,2),Z=K[0],E=K[1],P=0===i.length,B=(0,g.n)((function(e){return e.setReportRawData})),H=(0,x.Z)(q.gA,""),M=(0,n.Z)(H,1)[0],J=(0,_.useState)(Boolean(M)),L=(0,n.Z)(J,2),Y=L[0],G=L[1];B({profiling:t.profiling,reconcile:t.reconcile,project:t.project,created_at:t.created_at,description:t.description});var F=g.n.getState().reconcileResults.reconcile,V=null===F||void 0===F?void 0:F.find((function(e){return e.metadata.name===k})),$=null===V||void 0===V?void 0:V.metadata.description,U=(null===V||void 0===V?void 0:V.metadata.base_table)||"",ee=(null===V||void 0===V?void 0:V.metadata.target_table)||"",te=D[U],ie=N[ee],ne=(null===te||void 0===te?void 0:te.columns)||{},le=(null===ie||void 0===ie?void 0:ie.columns)||{},re=null===V||void 0===V?void 0:V.columns[i];console.log(i),console.log(re);var ae=null===re||void 0===re?void 0:re.base_compare_key,oe=null===re||void 0===re?void 0:re.target_compare_key,ce=ne[ae],se=le[oe],de=se||ce,ue=(ce||{}).type,me=(se||{}).type,he=(0,b.MM)(de),fe=he.backgroundColor,_e=he.icon,xe=null===V||void 0===V?void 0:V.tables,pe=V.columns[i];return(0,W.jsx)(j.o,{isSingleReport:!1,maxHeight:w.t4,children:(0,W.jsxs)(l.r,{width:"inherit",templateColumns:Y?w.L0:w.Lj,children:[(0,W.jsx)(r.P,{overflowY:"scroll",maxHeight:w.t4,children:(0,W.jsx)(O,{reconcileEntryList:z,reconcileEntry:V,currentReconcile:k,currentRule:i,onSelect:function(e){var t=e.reconcileName,i=e.ruleName;E(0),R("/reconciles/".concat(t,"/rules/").concat(i))},onNavBack:function(){R("/")},onNavToTableDetail:function(e){R("/reconciles/".concat(e,"/rules/"))},onToggleShowExtra:function(){return G((function(e){return!e}))}})}),P?(0,W.jsxs)(r.P,{maxHeight:w.t4,overflowY:"auto",p:10,children:[(0,W.jsx)(I,{title:k,subtitle:"Reconcile",mb:5,infoTip:$}),(0,W.jsxs)(a.m,{defaultIndex:0,children:[(0,W.jsxs)(o.t,{children:[(0,W.jsx)(c.O,{children:"Overview"}),(0,W.jsx)(c.O,{children:"Assertions"}),(0,W.jsx)(c.O,{children:"Schema"})]}),(0,W.jsxs)(s.n,{children:[(0,W.jsxs)(d.x,{children:[(0,W.jsx)(X,{}),(0,W.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,W.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(m.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,W.jsxs)(m.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["base_source.",U]})]}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(m.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Table"}),(0,W.jsxs)(m.x,{textAlign:"right",fontSize:"sm",width:"100%",children:["target_source.",U]})]})]}),(0,W.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,children:[(0,W.jsx)(b.my,{tableDatum:te,showDups:!1}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsx)(b.my,{tableDatum:ie,showDups:!1})]}),(0,W.jsx)(l.r,{templateColumns:"1fr",children:(0,W.jsx)(b.zZ,{vennChartData:xe})})]}),(0,W.jsx)(d.x,{children:(0,W.jsx)(m.x,{children:" No Assertsion "})}),(0,W.jsx)(d.x,{children:(0,W.jsx)(m.x,{children:" No information "})})]})]})]}):(0,W.jsxs)(l.r,{templateColumns:"1fr 1fr",width:"100%",maxHeight:w.t4,overflowY:"auto",children:[(0,W.jsxs)(r.P,{colSpan:2,rowSpan:2,p:9,children:[(0,W.jsx)(b.QN,{title:i,subtitle:i,infoTip:null===re||void 0===re?void 0:re.generic_type,mb:5,borderBottom:w.dx,icon:_e,iconColor:fe}),(0,W.jsx)(X,{}),(0,W.jsxs)(l.r,{templateColumns:"1fr 1px 1fr",gap:3,p:5,children:[(0,W.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(m.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,W.jsx)(m.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===re||void 0===re?void 0:re.base_compare_key}),(0,W.jsx)(m.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===re||void 0===re?void 0:re.generic_type})]}),(0,W.jsx)(h.i,{orientation:"vertical"}),(0,W.jsxs)(u.k,{flexDirection:"row",alignItems:"center",children:[(0,W.jsx)(m.x,{width:"8em",align:"left",fontSize:"sm",fontWeight:"700",children:"Column"}),(0,W.jsx)(m.x,{textAlign:"right",fontSize:"m",width:"75%",children:null===re||void 0===re?void 0:re.target_compare_key}),(0,W.jsx)(m.x,{textAlign:"right",fontSize:"m",width:"25%",children:null===re||void 0===re?void 0:re.generic_type})]})]})]}),(0,W.jsx)(r.P,{colSpan:2,px:9,py:2,bg:"gray.50",children:(0,W.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,minWidth:0,children:[(0,W.jsx)(b.tK,{columnDatum:ce}),(0,W.jsx)(b.tK,{columnDatum:se})]})}),((0,b.jl)(ue)||(0,b.jl)(me))&&(0,W.jsx)(r.P,{colSpan:2,gridRow:"span 1",px:9,py:2,bg:"gray.50",children:(0,W.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(v.E,{columnDatum:ce}),(0,W.jsx)(v.E,{columnDatum:se})]})}),((0,b.hG)(ue)||(0,b.hG)(me))&&(0,W.jsx)(r.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,W.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(S.M,{columnDatum:ce}),(0,W.jsx)(S.M,{columnDatum:se})]})}),(0,W.jsx)(r.P,{colSpan:2,gridRow:"span 1",minWidth:0,px:10,py:4,bg:"gray.50",children:(0,W.jsxs)(l.r,{templateColumns:"1fr 1fr",gap:8,children:[(0,W.jsx)(y.r,{baseColumnDatum:ce,hasAnimation:!0,tabIndex:Z,onSelectTab:function(e){return E(e)}}),(0,W.jsx)(y.r,{baseColumnDatum:se,hasAnimation:!0,tabIndex:Z,onSelectTab:function(e){return E(e)}})]})}),(0,W.jsx)(r.P,{colSpan:2,gridRow:"span 1",p:9,bg:"gray.50",children:(0,W.jsx)(l.r,{templateColumns:"1fr 1fr",gap:8,children:(0,W.jsx)(Q,{columnStats:function(e){return"string"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_case_insensitive",firstSlot:e.equal_case_insensitive,secondSlot:e.equal_case_insensitive_percentage,metaKey:"equal_case_insensitive"},{name:"equal_trim_whitespace",firstSlot:e.equal_trim_whitespace,secondSlot:e.equal_trim_whitespace_percentage,metaKey:"equal_trim_whitespace"}]:"numeric"===e.generic_type||"integer"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_5_difference",firstSlot:e.equal_within_5_difference,secondSlot:e.equal_within_5_difference_percentage,metaKey:"equal_within_5_difference"},{name:"equal_within_10_difference",firstSlot:e.equal_within_10_difference,secondSlot:e.equal_within_10_difference_percentage,metaKey:"equal_within_10_difference"}]:"datetime"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"},{name:"equal_within_1_day_difference",firstSlot:e.equal_within_1_day_difference,secondSlot:e.equal_within_1_day_difference_percentage,metaKey:"equal_within_1_day_difference"},{name:"equal_within_1_week_difference",firstSlot:e.equal_within_1_week_difference,secondSlot:e.equal_within_1_week_difference_percentage,metaKey:"equal_within_1_week_difference"},{name:"equal_within_1_month_difference",firstSlot:e.equal_within_1_month_difference,secondSlot:e.equal_within_1_month_difference_percentage,metaKey:"equal_within_1_month_difference"}]:"boolean"===e.generic_type?[{name:"total",firstSlot:e.total,secondSlot:"100%",metaKey:"total"},{name:"equal",firstSlot:e.equal,secondSlot:e.equal_percentage,metaKey:"equal"}]:void 0}(pe),hasAnimation:!1})})})]})]})})}function X(){return(0,W.jsx)(l.r,{templateColumns:"1fr 1fr",mb:2,gap:10,children:["Base","Target"].map((function(e,t){return(0,W.jsx)(u.k,{alignItems:"center",w:"100%",children:(0,W.jsx)(m.x,{fontWeight:"semibold",fontSize:"2xl",color:"gray.400",w:"100%",children:e})},t)}))})}}}]);
//# sourceMappingURL=59.4a4832de.chunk.js.map